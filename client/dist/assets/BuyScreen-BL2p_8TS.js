const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/estimate-l1-fee-DXpeIA_8.js","assets/index-ZI4kWCQR.js","assets/index-CDS5xYjb.css","assets/sha256-DNLzVhVX.js"])))=>i.map(i=>d[i]);
import{au as J,R as te,av as It,aw as ot,_ as Ot,ax as zt,ay as rt,az as Dt,aA as xe,aB as Rt,z as ct,aC as Pt,Y as Ze,aD as j,aE as t,aF as Lt,aG as d,aH as Mt,aI as _t,aJ as Nt,aK as k,aL as lt,aM as K,aN as $,aO as qt,aP as Ut,aQ as Ae,aR as dt,aS as ut,aT as _,U as ye,aU as he,aV as pe,aW as N,aX as X,aY as m,aZ as ve,a_ as B,a$ as We,b0 as me,b1 as h,b2 as Ee,b3 as q,b4 as Z,b5 as we,b6 as D,b7 as le,b8 as Be,b9 as Ht,ba as ne,bb as V,bc as $t,bd as fe,be as Fe,O as Qt,bf as Je,q as Gt,bg as Vt,bh as Kt,bi as ht,bj as Yt,bk as mt,bl as xt,bm as Zt,bn as ke,bo as yt,bp as Jt,bq as Xt,br as je,bs as en,bt as tn,bu as ft,bv as nn,bw as sn,bx as Xe,by as jt,bz as an,bA as gt,bB as on,bC as Ce,bD as rn,bE as bt,bF as cn,bG as se,bH as wt,bI as kt,bJ as ln,bK as dn,a1 as et,$ as un,bL as hn,bM as mn,bN as tt,bO as xn,bP as Ct,bQ as yn,bR as fn,bS as jn,bT as gn,bU as bn,bV as St,bW as wn,bX as kn,bY as Cn,bZ as Sn,b_ as nt,b$ as Tn,c0 as An,c1 as pn,c2 as vn,c3 as Wn}from"./index-ZI4kWCQR.js";import{decimals as En}from"./decimals-DCHDkdCc.js";import{getCurrencyMetadata as Bn}from"./getCurrencyMetadata-7MeBZPN2.js";import"./decimals-C60SFiRR.js";const Fn=J({id:84532,name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},blockExplorers:[{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}],testnet:!0}),In=J({id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorers:[{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}]}),On=J({id:11155420,name:"OP Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},blockExplorers:[{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com",apiUrl:"https://optimism-sepolia.blockscout.com/api"}],testnet:!0}),zn=J({id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorers:[{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io"}]}),Dn=J({id:999999999,name:"Zora Sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},blockExplorers:[{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/",apiUrl:"https://sepolia.explorer.zora.energy/api"}],testnet:!0}),Rn=J({id:7777777,name:"Zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},blockExplorers:[{name:"Explorer",url:"https://explorer.zora.energy",apiUrl:"https://explorer.zora.energy/api"}]}),Pn=[In.id,Fn.id,zn.id,On.id,Rn.id,Dn.id,34443,919,42220,44787,204,5611];function Ln(e){return Pn.includes(e.id)}async function Mn(e){var r;const{transaction:n}=e,s=e.from??((r=e.account)==null?void 0:r.address)??void 0,i=await te(n.gas)||await It({transaction:n,from:s}),a=await ot({client:n.client,chain:n.chain});let u;if(Ln(n.chain)){const{estimateL1Fee:o}=await Ot(async()=>{const{estimateL1Fee:l}=await import("./estimate-l1-fee-DXpeIA_8.js");return{estimateL1Fee:l}},__vite__mapDeps([0,1,2,3]));u=await o({transaction:n})}else u=0n;const c=i*a+u;return{ether:zt(c),wei:c}}async function st(e){const n=await rt(e);return Dt(n)}function _n(e,n){return xe({...n,queryKey:["buyWithCryptoQuote",e],queryFn:()=>{if(!e)throw new Error("Swap params are required");return Rt(e)},enabled:!!e,retry(s,i){if(s>3)return!1;try{const a=i.error;if(a.code==="MINIMUM_PURCHASE_AMOUNT"||a.statusCode===404||a.statusCode>=500)return!1}catch{return!0}return!0}})}async function Nn(e){try{const s=await ct(e.client)(Pt(),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({toAddress:e.toAddress,fromCurrencySymbol:e.fromCurrencySymbol,toChainId:e.toChainId.toString(),toTokenAddress:e.toTokenAddress,fromAmount:e.fromAmount,toAmount:e.toAmount,maxSlippageBPS:e.maxSlippageBPS,isTestMode:e.isTestMode,purchaseData:e.purchaseData,fromAddress:e.fromAddress,toGasAmountWei:e.toGasAmountWei,preferredProvider:e.preferredProvider})});if(!s.ok){const i=await s.json();throw i&&"error"in i?i:new Error(`HTTP error! status: ${s.status}`)}return(await s.json()).result}catch(n){throw console.error("Error getting buy with fiat quote",n),n}}function qn(e,n){return xe({...n,queryKey:["useBuyWithFiatQuote",e],queryFn:async()=>{if(!e)throw new Error("No params provided");return Nn(e)},enabled:!!e,retry(s,i){if(s>3)return!1;try{const a=i.error;if(a.code==="MINIMUM_PURCHASE_AMOUNT"||a.statusCode===404||a.statusCode>=500)return!1}catch{return!0}return!0}})}function Tt(e){const n=e.toToken.chainId===e.onRampToken.token.chainId,s=Ze(e.toToken.tokenAddress)===Ze(e.onRampToken.token.tokenAddress);return!(n&&s)}const At=j.forwardRef(function(n,s){return t.jsx(Un,{ref:s,children:t.jsx(Lt,{children:t.jsxs(d,{p:"lg",children:[t.jsx(Mt,{children:t.jsx(_t,{type:"button","aria-label":"Close",onClick:n.close,children:t.jsx(Nt,{width:k.md,height:k.md,style:{color:"inherit"}})})}),n.children]})})})}),Un=lt(e=>{const n=K();return{zIndex:1e4,borderTopLeftRadius:$.xl,borderTopRightRadius:$.xl,background:n.colors.modalBg,position:"absolute",bottom:0,left:0,right:0,animation:`${Hn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.1)`,borderTop:`1px solid ${n.colors.borderColor}`}}),Hn=qt`
  from {
    opacity: 0;
    transform: translateY(100px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`,pt=lt(e=>({backgroundColor:K().colors.modalOverlayBg,zIndex:9999,position:"absolute",inset:0,animation:`${Ut} 400ms cubic-bezier(0.16, 1, 0.3, 1)`}));function vt(){const[e,n]=j.useState(!1),s=j.useRef(null),i=j.useRef(null),a=j.useCallback(()=>new Promise(c=>{var r;if(s.current){const o={easing:"cubic-bezier(0.175, 0.885, 0.32, 1.1)",fill:"forwards",duration:300},l=s.current.animate([{transform:"translateY(100%)",opacity:0}],o);(r=i.current)==null||r.animate([{opacity:0}],o),l.onfinish=()=>c()}else c()}),[]),u=j.useCallback(async c=>{c?n(!0):(await a(),n(!1))},[a]);return j.useLayoutEffect(()=>{if(!e)return;const c=r=>{s.current&&r.target instanceof Node&&!s.current.contains(r.target)&&u(!1)};return requestAnimationFrame(()=>{document.addEventListener("click",c)}),()=>{document.removeEventListener("click",c)}},[e,u]),{drawerRef:s,drawerOverlayRef:i,setIsOpen:u,isOpen:e}}function $n(e){var b,A,v,g,C,I;const{payUiOptions:n,supportedDestinations:s,client:i,onContinue:a,payerAccount:u}=e,c=K(),r=Ae(),o=n.metadata,l=n.paymentInfo,{data:x}=dt(l.chain),{data:T}=ut({client:i,address:l.sellerAddress}),f=xe({queryKey:["amount",l],queryFn:async()=>{let O=18;l.token&&!_(l.token)&&(O=await En({contract:ye({address:l.token.address,chain:l.chain,client:i})}));let z;return"amountWei"in l?z=he(l.amountWei,O):z=l.amount,z}}).data;if(!x||f===void 0)return t.jsx(pe,{});const w=l.token?{...l.token,icon:((b=l.token)==null?void 0:b.icon)||((v=(A=s.find(O=>O.chain.id===l.chain.id))==null?void 0:A.tokens.find(O=>{var z;return O.address.toLowerCase()===((z=l.token)==null?void 0:z.address.toLowerCase())}))==null?void 0:v.icon)}:{address:N,name:x.nativeCurrency.name,symbol:x.nativeCurrency.symbol,icon:(g=x.icon)==null?void 0:g.url};return t.jsxs(d,{p:"lg",children:[t.jsx(X,{title:(o==null?void 0:o.name)||"Payment Details"}),t.jsx(m,{y:"lg"}),t.jsxs(d,{children:[o!=null&&o.image?t.jsx(ve,{client:i,src:o==null?void 0:o.image,style:{width:"100%",borderRadius:B.md,backgroundColor:c.colors.tertiaryBg}}):r?t.jsxs(d,{flex:"row",center:"both",style:{padding:B.md,marginBottom:B.md,borderRadius:B.md,backgroundColor:c.colors.tertiaryBg},children:[t.jsx(We,{size:k.xl,id:r.id,client:i}),t.jsx("div",{style:{flexGrow:1,borderBottom:"6px dotted",borderColor:c.colors.secondaryIconColor,marginLeft:B.md,marginRight:B.md}}),t.jsx(me,{client:i,size:k.xl,chainIconUrl:(C=x.icon)==null?void 0:C.url})]}):null,t.jsx(m,{y:"md"}),t.jsxs(d,{flex:"row",children:[t.jsx(d,{flex:"column",expand:!0,children:t.jsx(h,{size:"md",color:"primaryText",weight:700,children:"Price"})}),t.jsx(d,{expand:!0,children:t.jsxs(d,{flex:"row",gap:"xs",center:"y",style:{justifyContent:"right"},children:[t.jsx(Ee,{chain:l.chain,client:e.client,size:"sm",token:w}),t.jsxs(h,{color:"primaryText",size:"md",weight:700,children:[String(q(Number(f),6))," ",w.symbol]})]})})]}),t.jsx(m,{y:"md"}),t.jsx(Z,{}),t.jsx(m,{y:"md"}),t.jsxs(d,{flex:"row",children:[t.jsx(d,{flex:"column",expand:!0,children:t.jsx(h,{size:"xs",color:"secondaryText",children:"Network"})}),t.jsx(d,{expand:!0,children:t.jsxs(d,{flex:"row",gap:"xs",center:"y",style:{justifyContent:"right"},children:[t.jsx(me,{chainIconUrl:(I=x.icon)==null?void 0:I.url,size:"xs",client:e.client}),t.jsx(h,{size:"xs",color:"secondaryText",style:{textAlign:"right"},children:x.name})]})})]}),t.jsx(m,{y:"sm"}),t.jsxs(d,{flex:"row",children:[t.jsx(d,{flex:"column",expand:!0,children:t.jsx(h,{size:"xs",color:"secondaryText",children:"Seller"})}),t.jsx(d,{expand:!0,children:t.jsx(d,{flex:"row",gap:"xs",center:"y",style:{justifyContent:"right"},children:t.jsx(h,{size:"xs",color:"secondaryText",style:{textAlign:"right"},children:T||we(l.sellerAddress)})})})]})]}),t.jsx(m,{y:"xl"}),u?t.jsx(D,{variant:"accent",fullWidth:!0,onClick:()=>{le({event:"choose_payment_method_direct_payment_mode",client:i,walletAddress:u.address,walletType:r==null?void 0:r.id}),a(f,l.chain,w)},children:"Choose Payment Method"}):t.jsx("div",{children:t.jsx(Be,{...e.connectOptions,client:i,theme:c,connectButton:{style:{width:"100%"}}})})]})}function Wt(e){const{estimatedSeconds:n,quoteIsLoading:s}=e;return t.jsxs(d,{bg:"tertiaryBg",flex:"row",borderColor:"borderColor",style:{borderRadius:$.md,borderTopLeftRadius:0,borderTopRightRadius:0,justifyContent:"space-between",alignItems:"center",borderWidth:"1px",borderStyle:"solid"},children:[t.jsxs(d,{flex:"row",center:"y",gap:"xxs",color:"accentText",p:"sm",children:[t.jsx(Ht,{width:k.sm,height:k.sm}),s?t.jsx(ne,{height:V.xs,width:"50px",color:"borderColor"}):t.jsx(h,{size:"xs",color:"secondaryText",children:n!==void 0?`~${$t(n)}`:"--"})]}),t.jsxs(D,{variant:"ghost",onClick:e.onViewFees,gap:"xs",children:[t.jsx(d,{color:"accentText",flex:"row",center:"both",children:t.jsx(Qn,{size:k.sm})}),t.jsx(h,{size:"xs",color:"secondaryText",children:"View Fees"})]})]})}const Qn=e=>t.jsxs("svg",{width:e.size,height:e.size,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[t.jsx("path",{d:"M9.5 1.5H2.5C1.94772 1.5 1.5 1.94772 1.5 2.5V9.5C1.5 10.0523 1.94772 10.5 2.5 10.5H9.5C10.0523 10.5 10.5 10.0523 10.5 9.5V2.5C10.5 1.94772 10.0523 1.5 9.5 1.5Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M4.5 7.5L7.5 4.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]});function Gn(e){return t.jsxs(d,{bg:"tertiaryBg",borderColor:"borderColor",flex:"row",style:{borderRadius:$.md,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderWidth:"1px",borderStyle:"solid",borderBottom:"none",flexWrap:"nowrap",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs(Vn,{variant:"ghost",onClick:e.onSelectCurrency,style:{minHeight:"64px",justifyContent:"flex-start",minWidth:"50%"},gap:"sm",children:[t.jsx(e.currency.icon,{size:k.md}),t.jsxs(d,{flex:"row",center:"y",gap:"xxs",color:"secondaryText",children:[t.jsx(h,{color:"primaryText",children:e.currency.shorthand}),t.jsx(fe,{width:k.sm,height:k.sm})]})]}),t.jsx("div",{style:{flexGrow:1,flexShrink:1,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:B.xxs,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",justifyContent:"center",paddingRight:B.sm},children:e.isLoading?t.jsx(ne,{width:"100px",height:V.lg}):t.jsx(h,{size:"lg",color:e.value?"primaryText":"secondaryText",children:e.value?`${q(Number(e.value),6)}`:"--"})})]})}const Vn=Fe(D)(()=>({"&[disabled]:hover":{borderColor:"transparent"}}));function Kn(e){const{transaction:n,account:s,supportedDestinations:i}=e,[a,u]=j.useState();return j.useEffect(()=>{Promise.all([te(n.value),te(n.erc20Value),te(n.to),Qt(n)]).then(([c,r,o,l])=>{var x;u({value:c==null?void 0:c.toString(),erc20Value:(x=r==null?void 0:r.amountWei)==null?void 0:x.toString(),erc20Currency:r==null?void 0:r.tokenAddress,to:o,data:l})})},[n]),xe({queryKey:["transaction-cost",n.chain.id,s==null?void 0:s.address,a],queryFn:async()=>{var y,f,w;if(!s)throw new Error("No account");const c=await te(n.erc20Value);if(c){const[b,A,v]=await Promise.all([Je({address:s.address,chain:n.chain,client:n.client,tokenAddress:c.tokenAddress}),Bn({contract:ye({address:c.tokenAddress,chain:n.chain,client:n.client})}),Se(n,s==null?void 0:s.address)]),g=c.amountWei,C=b;return{token:{address:c.tokenAddress,name:A.name,symbol:A.symbol,icon:(f=(y=i.find(O=>O.chain.id===n.chain.id))==null?void 0:y.tokens.find(O=>O.address.toLowerCase()===c.tokenAddress.toLowerCase()))==null?void 0:f.icon},decimals:A.decimals,walletBalance:C,gasCostWei:v,transactionValueWei:g}}const[r,o,l]=await Promise.all([Je({address:s.address,chain:n.chain,client:n.client}),Gt(n.chain),Se(n,s==null?void 0:s.address)]),x=r,T=await te(n.value)||0n;return{token:{address:N,name:o.nativeCurrency.name,symbol:o.nativeCurrency.symbol,icon:(w=o.icon)==null?void 0:w.url},decimals:18,walletBalance:x,gasCostWei:l,transactionValueWei:T}},enabled:!!n&&!!s&&!!a,refetchInterval:()=>{if(!n.erc20Value)return 3e4}})}async function Se(e,n){try{const s=await Mn({transaction:e,from:n}),i=s.wei/10n;return s.wei+i}catch{return n?await Se(e):2000000n*await ot({client:e.client,chain:e.chain})}}function Yn(e){var y,f;const{payUiOptions:n,client:s,payerAccount:i,supportedDestinations:a,onContinue:u}=e,{data:c}=dt(n.transaction.chain),r=n.metadata,{data:o}=Kn({transaction:n.transaction,account:i,supportedDestinations:a}),l=K(),x=Ae(),T=Vt(x);return!o||!c?t.jsx(pe,{}):t.jsxs(d,{p:"lg",children:[t.jsx(X,{title:(r==null?void 0:r.name)||"Transaction"}),t.jsx(m,{y:"lg"}),t.jsxs(d,{children:[r!=null&&r.image?t.jsx(ve,{client:s,src:r==null?void 0:r.image,style:{width:"100%",borderRadius:B.md,backgroundColor:l.colors.tertiaryBg}}):x?t.jsxs(d,{flex:"row",center:"both",style:{padding:B.md,marginBottom:B.md,borderRadius:B.md,backgroundColor:l.colors.tertiaryBg},children:[t.jsx(We,{size:k.xl,id:x.id,client:s}),t.jsx("div",{style:{flexGrow:1,borderBottom:"6px dotted",borderColor:l.colors.secondaryIconColor,marginLeft:B.md,marginRight:B.md}}),t.jsx(me,{client:s,size:k.xl,chainIconUrl:(y=c.icon)==null?void 0:y.url})]}):null,t.jsx(m,{y:"md"}),t.jsxs(d,{flex:"row",children:[t.jsx(d,{flex:"column",expand:!0,children:t.jsx(h,{size:"md",color:"primaryText",weight:700,children:"Price"})}),t.jsx(d,{expand:!0,children:t.jsxs(d,{flex:"row",gap:"xs",center:"y",style:{justifyContent:"right"},children:[t.jsx(Ee,{chain:n.transaction.chain,client:e.client,size:"sm",token:o.token}),t.jsxs(h,{color:"primaryText",size:"md",weight:700,children:[String(q(Number(he(o.transactionValueWei,o.decimals)),6))," ",o.token.symbol]})]})})]}),t.jsx(m,{y:"md"}),t.jsx(Z,{}),t.jsx(m,{y:"md"}),t.jsxs(d,{flex:"row",children:[t.jsx(d,{flex:"column",expand:!0,children:t.jsx(h,{size:"xs",color:"secondaryText",children:"Gas Fees"})}),t.jsx(d,{expand:!0,children:t.jsx(d,{flex:"row",gap:"xs",center:"y",style:{justifyContent:"right"},children:t.jsx(h,{color:T?"success":"primaryText",size:"xs",children:T?"Sponsored":`${String(q(Number(he(o.gasCostWei,c.nativeCurrency.decimals)),6))} ${c.nativeCurrency.symbol}`})})})]}),t.jsx(m,{y:"sm"}),t.jsxs(d,{flex:"row",children:[t.jsx(d,{flex:"column",expand:!0,children:t.jsx(h,{size:"xs",color:"secondaryText",children:"Network"})}),t.jsx(d,{expand:!0,children:t.jsxs(d,{flex:"row",gap:"xs",center:"y",style:{justifyContent:"right"},children:[t.jsx(me,{chainIconUrl:(f=c.icon)==null?void 0:f.url,size:"xs",client:e.client}),t.jsx(h,{size:"xs",color:"secondaryText",style:{textAlign:"right"},children:c.name})]})})]})]}),t.jsx(m,{y:"xl"}),i?t.jsx(D,{variant:"accent",fullWidth:!0,onClick:()=>{let w=o.transactionValueWei;o.token.address===N&&!T&&(w+=o.gasCostWei),le({event:"choose_payment_method_transaction_mode",client:s,walletAddress:i.address,walletType:x==null?void 0:x.id}),u(he(w,o.decimals),n.transaction.chain,o.token)},children:"Choose Payment Method"}):t.jsx("div",{children:t.jsx(Be,{...e.connectOptions,client:s,theme:l,connectButton:{style:{width:"100%"}}})})]})}function Et(e){const n=K();return t.jsx(d,{bg:"tertiaryBg",style:{borderRadius:$.lg,border:`1px solid ${n.colors.borderColor}`,...e.containerStyle},children:t.jsxs(D,{fullWidth:!0,disabled:e.disabled,onClick:e.onClick,variant:"ghost",style:{justifyContent:"space-between",padding:B.sm,backgroundColor:n.colors.tertiaryBg},gap:"sm",children:[t.jsx(Te,{client:e.client,address:e.address}),!e.disableChevron&&t.jsx(fe,{width:k.sm,height:k.sm,style:{color:n.colors.secondaryText}}),e.checked&&t.jsx(Kt,{width:k.md,height:k.md})]})})}function Te(e){const{client:n,address:s}=e,a=ht().find(l=>{var x;return((x=l.getAccount())==null?void 0:x.address)===e.address}),u=e.walletId||(a==null?void 0:a.id),c=ut({client:n,address:s}),r=c.data||we(s),o=Yt({client:n,ensName:c.data});return t.jsxs(d,{flex:"row",center:"y",gap:"sm",color:"secondaryText",children:[o.data?t.jsx(ve,{src:o.data,width:k.md,height:k.md,style:{borderRadius:$.sm},client:e.client}):u?t.jsx(We,{id:u,size:k.md,client:e.client}):null,t.jsx(h,{size:"sm",color:"primaryText",children:r||we(e.address)})]})}function Zn(e){return t.jsxs(d,{children:[t.jsx(d,{p:"lg",children:t.jsx(X,{title:"Pay with",onBack:e.onBack})}),t.jsx(Z,{}),t.jsx(m,{y:"lg"}),t.jsx(d,{flex:"column",gap:"xs",px:"lg",children:mt.map(n=>t.jsxs(Jn,{fullWidth:!0,variant:"secondary",onClick:()=>e.onSelect(n),gap:"sm",children:[t.jsx(n.icon,{size:k.lg}),t.jsxs(d,{flex:"column",gap:"xxs",children:[t.jsx(h,{color:"primaryText",children:n.shorthand}),t.jsx(h,{size:"sm",children:n.name})]})]},n.shorthand))}),t.jsx(m,{y:"lg"})]})}const Jn=Fe(D)(()=>{const e=K();return{background:e.colors.tertiaryBg,justifyContent:"flex-start",gap:B.sm,padding:B.sm,"&:hover":{background:e.colors.secondaryButtonBg,transform:"scale(1.01)"},transition:"background 200ms ease, transform 150ms ease"}});function Bt(e,n){const a=(window.innerHeight-750)/2,u=(window.innerWidth-500)/2;return window.open(`${e}&theme=${n}`,"thirdweb Pay",`width=500, height=750, top=${a}, left=${u}`)}function Xn(e){var o,l,x,T;const n=xt(),{openedWindow:s,onSuccess:i}=e,a=Zt({intentId:e.intentId,client:e.client});let u="loading";((o=a.data)==null?void 0:o.status)==="ON_RAMP_TRANSFER_FAILED"||((l=a.data)==null?void 0:l.status)==="PAYMENT_FAILED"?u="failed":((x=a.data)==null?void 0:x.status)==="CRYPTO_SWAP_FALLBACK"?u="partialSuccess":((T=a.data)==null?void 0:T.status)==="ON_RAMP_TRANSFER_COMPLETED"&&(u="completed");const c=j.useRef(!1);j.useEffect(()=>{var y;c.current||!i||((y=a.data)==null?void 0:y.status)==="ON_RAMP_TRANSFER_COMPLETED"&&(c.current=!0,i(a.data))},[i,a.data]),j.useEffect(()=>{var y,f;!s||!a.data||(((y=a.data)==null?void 0:y.status)==="CRYPTO_SWAP_REQUIRED"||((f=a.data)==null?void 0:f.status)==="ON_RAMP_TRANSFER_COMPLETED")&&s.close()},[a.data,s]);const r=j.useRef(!1);return j.useEffect(()=>{var y;!r.current&&((y=a.data)==null?void 0:y.status)==="ON_RAMP_TRANSFER_COMPLETED"&&(r.current=!0,ke(n))},[a.data,n]),j.useEffect(()=>{var y;((y=a.data)==null?void 0:y.status)==="CRYPTO_SWAP_REQUIRED"&&e.onShowSwapFlow(a.data)},[a.data,e.onShowSwapFlow]),t.jsxs(d,{p:"lg",children:[t.jsx(X,{title:e.title,onBack:e.onBack}),e.hasTwoSteps&&t.jsxs(t.Fragment,{children:[t.jsx(m,{y:"lg"}),t.jsx(yt,{steps:2,currentStep:1}),t.jsx(m,{y:"sm"}),t.jsxs(h,{size:"xs",children:["Step 1 of 2 - Buying ",e.quote.onRampToken.token.symbol," with"," ",e.quote.fromCurrencyWithFees.currencySymbol]})]}),t.jsx(es,{uiStatus:u,onDone:e.onDone,fiatStatus:a.data,client:e.client,transactionMode:e.transactionMode,quote:e.quote,isEmbed:e.isEmbed})]})}function es(e){const{uiStatus:n}=e,s=e.fiatStatus?Jt(e.fiatStatus):void 0,i=e.fiatStatus&&e.fiatStatus.status!=="NOT_FOUND"?e.fiatStatus:void 0,a=e.quote.onRampToken,u=t.jsx(Xt,{client:e.client,token:i!=null&&i.source?{chainId:i.source.token.chainId,address:i.source.token.tokenAddress,symbol:i.source.token.symbol||"",amount:i.source.amount}:{chainId:a.token.chainId,address:a.token.tokenAddress,symbol:a.token.symbol,amount:a.amount},fiat:{amount:e.quote.fromCurrencyWithFees.amount,currencySymbol:e.quote.fromCurrencyWithFees.currencySymbol},statusMeta:i!=null&&i.source&&s?{color:s==null?void 0:s.color,text:s==null?void 0:s.status,txHash:i.source.transactionHash}:void 0});return t.jsxs(d,{children:[t.jsx(m,{y:"xl"}),n==="loading"&&t.jsxs(t.Fragment,{children:[t.jsx(m,{y:"md"}),t.jsx(d,{flex:"row",center:"x",children:t.jsx(je,{size:"xxl",color:"accentText"})}),t.jsx(m,{y:"md"}),t.jsx(h,{color:"primaryText",size:"lg",center:!0,children:"Buy Pending"}),t.jsx(m,{y:"sm"}),!en()&&t.jsx(h,{center:!0,children:"Complete the purchase in popup"}),t.jsx(m,{y:"xxl"}),u]}),n==="failed"&&t.jsxs(t.Fragment,{children:[t.jsx(m,{y:"md"}),t.jsx(d,{flex:"row",center:"x",children:t.jsx(tn,{size:k["3xl"]})}),t.jsx(m,{y:"lg"}),t.jsx(h,{color:"primaryText",size:"lg",center:!0,children:"Transaction Failed"}),t.jsx(m,{y:"xxl"}),u]}),n==="completed"&&t.jsxs(t.Fragment,{children:[t.jsx(m,{y:"md"}),t.jsx(d,{flex:"row",center:"x",color:"success",children:t.jsx(ft,{width:k["3xl"],height:k["3xl"]})}),t.jsx(m,{y:"md"}),t.jsx(h,{color:"primaryText",size:"lg",center:!0,children:"Buy Complete"}),e.fiatStatus&&e.fiatStatus.status!=="NOT_FOUND"&&t.jsxs(t.Fragment,{children:[t.jsx(m,{y:"xxl"}),u,t.jsx(m,{y:"sm"})]}),!e.isEmbed&&t.jsx(D,{variant:"accent",fullWidth:!0,onClick:e.onDone,children:e.transactionMode?"Continue Transaction":"Done"})]})]})}function ts(e){const n=Tt(e.quote),[s,i]=j.useState(n?{id:"step-1"}:{id:"onramp-status"}),[a,u]=j.useState(e.openedWindow),c=j.useCallback(()=>{nn({intentId:e.quote.intentId,client:e.client}).then(r=>{e.onSuccess(r)})},[e.onSuccess,e.quote.intentId,e.client]);return s.id==="step-1"?t.jsx(sn,{title:e.title,client:e.client,onBack:e.onBack,partialQuote:Xe(e.quote),step:1,onContinue:()=>{const r=Bt(e.quote.onRampLink,e.theme);le({event:"open_onramp_popup",client:e.client,walletAddress:e.payer.account.address,walletType:e.payer.wallet.id}),jt({type:"fiat",intentId:e.quote.intentId}),u(r),i({id:"onramp-status"})}}):s.id==="onramp-status"?t.jsx(Xn,{title:e.title,client:e.client,intentId:e.quote.intentId,onBack:e.onBack,hasTwoSteps:n,openedWindow:a,quote:e.quote,onDone:e.onDone,onShowSwapFlow:r=>{i({id:"postonramp-swap",data:r})},transactionMode:e.transactionMode,isEmbed:e.isEmbed,onSuccess:e.onSuccess}):s.id==="postonramp-swap"?t.jsx(an,{title:e.title,status:s.data,quote:Xe(e.quote),client:e.client,onBack:e.onBack,onDone:e.onDone,onSwapFlowStarted:()=>{},transactionMode:e.transactionMode,isEmbed:e.isEmbed,payer:e.payer,onSuccess:c}):null}function ns(e){const{payOptions:n,supportedDestinations:s,toChain:i,toToken:a}=e;function u(){const T=s.find(w=>w.chain.id===i.id);if(!T)return{fiat:!1,swap:!1};const y=_(a)?N:a.address,f=T.tokens.find(w=>w.address.toLowerCase()===y.toLowerCase());return f?{fiat:f.buyWithFiatEnabled,swap:f.buyWithCryptoEnabled}:{fiat:!0,swap:!0}}const{fiat:c,swap:r}=u(),o=n.buyWithFiat!==!1&&c,l=n.buyWithCrypto!==!1&&r;return{buyWithFiatEnabled:o,buyWithCryptoEnabled:l,showPaymentSelection:o&&l}}const Ft=J({id:137,name:"Polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},blockExplorers:[{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}]});function ss(e){var f,w,b,A;const{payOptions:n,supportedDestinations:s}=e,i=n==null?void 0:n.prefillBuy,a=gt(),u=(i==null?void 0:i.amount)||"",[c,r]=j.useState(u),o=on(c,300),[l,x]=j.useState((i==null?void 0:i.chain)||n.mode==="transaction"&&((f=n.transaction)==null?void 0:f.chain)||n.mode==="direct_payment"&&((w=n.paymentInfo)==null?void 0:w.chain)||((b=s.find(v=>v.chain.id===(a==null?void 0:a.id)))==null?void 0:b.chain)||((A=s[0])==null?void 0:A.chain)||Ft),[T,y]=j.useState((i==null?void 0:i.token)||n.mode==="direct_payment"&&n.paymentInfo.token||Ce);return{toChain:l,setToChain:x,toToken:T,setToToken:y,tokenAmount:c,setTokenAmount:r,deferredTokenAmount:o}}function is(e){var w,b,A,v,g,C;const{payOptions:n,supportedSources:s}=e,i=s!=null&&s.length?s[0]:void 0,[a,u]=j.useState(),c=n.buyWithCrypto!==!1&&((b=(w=n.buyWithCrypto)==null?void 0:w.prefillSource)==null?void 0:b.chain)||n.mode==="transaction"&&((A=n.transaction)==null?void 0:A.chain)||n.mode==="direct_payment"&&((v=n.paymentInfo)==null?void 0:v.chain),r=i!=null&&i.chain?i.chain:void 0,o=a||c||r||Ft,[l,x]=j.useState(),T=n.buyWithCrypto!==!1&&((C=(g=n.buyWithCrypto)==null?void 0:g.prefillSource)==null?void 0:C.token)||n.mode==="direct_payment"&&n.paymentInfo.token;return{fromChain:o,setFromChain:u,fromToken:l||T||Ce||Ce,setFromToken:x}}function as(e){var c,r;const{payOptions:n}=e,i=(n.buyWithFiat!==!1?(r=(c=n.buyWithFiat)==null?void 0:c.prefillSource)==null?void 0:r.currency:void 0)||os(),[a,u]=j.useState(mt.find(o=>o.shorthand===i)||rn);return{selectedCurrency:a,setSelectedCurrency:u}}function os(){try{const e=Intl.DateTimeFormat().resolvedOptions().timeZone.toLowerCase();return e.includes("london")?"GBP":e.includes("europe")?"EUR":e.includes("japan")?"JPY":e.includes("canada")?"CAD":"USD"}catch{return"USD"}}function rs(e){return e.length>10?"26px":e.length>6?"34px":"50px"}function cs(e){const{name:n}=bt(e.chain),s=()=>{let i=e.value.replace(".","").length;return e.value.includes(".")&&(i+=.3),`calc(${`${Math.max(1,i)}ch`} + 6px)`};return t.jsxs(d,{children:[t.jsx("div",{onClick:i=>{var a;(a=i.currentTarget.querySelector("input"))==null||a.focus()},children:t.jsxs(d,{flex:"row",center:"both",gap:"xs",style:{flexWrap:"nowrap"},children:[t.jsx(cn,{variant:"outline",pattern:"^[0-9]*[.,]?[0-9]*$",inputMode:"decimal",tabIndex:-1,placeholder:"0",type:"text","data-placeholder":e.value==="",value:e.value||"0",disabled:e.freezeAmount,onClick:i=>{e.value===""&&i.currentTarget.setSelectionRange(i.currentTarget.value.length,i.currentTarget.value.length)},onChange:i=>{let a=i.target.value;a.startsWith(".")&&(a=`0${a}`);const u=Number(a);Number.isNaN(u)||(a.startsWith("0")&&!a.startsWith("0.")?e.onChange(a.slice(1)):e.onChange(a))},style:{border:"none",fontSize:rs(e.value),boxShadow:"none",borderRadius:"0",padding:"0",paddingBlock:"2px",fontWeight:600,textAlign:"right",width:s(),maxWidth:"calc(100% - 100px)"}}),t.jsx(se,{token:e.token,chain:e.chain,size:"lg",color:"secondaryText"})]})}),!e.hideTokenSelector&&t.jsxs(t.Fragment,{children:[t.jsx(m,{y:"sm"}),t.jsx(d,{flex:"row",center:"x",children:t.jsxs(ls,{variant:"secondary",fullWidth:!0,style:{fontSize:V.sm},gap:"xxs",onClick:e.onSelectToken,disabled:e.freezeChainAndToken,children:[t.jsxs(d,{flex:"row",center:"y",gap:"sm",children:[t.jsx(Ee,{token:e.token,chain:e.chain,size:"md",client:e.client}),t.jsxs(d,{flex:"column",style:{gap:"4px"},children:[t.jsx(se,{token:e.token,chain:e.chain,size:"sm"}),n?t.jsx(h,{size:"xs",color:"secondaryText",children:n}):t.jsx(ne,{width:"90px",height:V.xs})]})]}),t.jsx(fe,{width:k.sm,height:k.sm,style:{marginLeft:"auto"}})]})})]})]})}const ls=Fe(D)(()=>{const e=K();return{background:e.colors.tertiaryBg,border:`1px solid ${e.colors.borderColor}`,justifyContent:"flex-start",transition:"background 0.3s",padding:B.sm}});function ds(e){return t.jsx(d,{flex:"column",gap:"xs",style:{alignItems:"flex-start"},children:e.quote.processingFees.map(n=>{const s=q(Number(n.amount),6);return t.jsxs(d,{flex:"row",gap:"xxs",children:[t.jsxs(h,{color:"primaryText",size:"sm",children:[s===0?"~":"",s," ",n.token.symbol]}),t.jsxs(h,{color:"secondaryText",size:"sm",children:["($",(n.amountUSDCents/100).toFixed(2),")"]})]},`${n.token.chainId}_${n.token.tokenAddress}_${s}`)})})}function us(e){return t.jsxs(d,{flex:"column",gap:"xs",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx(h,{inline:!0,color:"secondaryText",children:"Amount"}),t.jsxs(h,{color:"primaryText",inline:!0,children:[q(Number(e.quote.fromCurrency.amount),2)," ",e.quote.fromCurrency.currencySymbol]})]}),e.quote.processingFees.map((n,s)=>{const i=q(Number(n.amount),6);return t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx(h,{inline:!0,color:"secondaryText",children:n.feeType==="NETWORK"?"Network Fee":"Processing Fee"}),t.jsxs(h,{color:"primaryText",inline:!0,children:[i===0?"~":""," ",i," ",n.currencySymbol]})]},s)}),t.jsx(m,{y:"xxs"}),t.jsx(Z,{}),t.jsx(m,{y:"xxs"}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx(h,{inline:!0,color:"secondaryText",children:"Total"}),t.jsxs(h,{color:"primaryText",inline:!0,children:[q(Number(e.quote.fromCurrencyWithFees.amount),6)," ",e.quote.fromCurrencyWithFees.currencySymbol]})]})]})}const hs=e=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",width:e.size,height:e.size,role:"presentation",children:t.jsx("path",{fill:"currentColor",d:"M15.6 4.6H1.85v-.55l12.1-.968v.968h1.65V2.4c0-1.21-.98-2.059-2.177-1.888L2.378 2.089C1.18 2.26.2 3.39.2 4.6v11a2.2 2.2 0 002.2 2.2h13.2a2.2 2.2 0 002.2-2.2V6.8a2.2 2.2 0 00-2.2-2.2zm-1.65 7.707a1.65 1.65 0 01-.63-3.176 1.65 1.65 0 11.63 3.176z"})});function ms(e){const{name:n}=bt(e.chain),s=wt({address:e.payerAccount.address,chain:e.chain,tokenAddress:_(e.token)?void 0:e.token.address,client:e.client});return t.jsxs(d,{bg:"tertiaryBg",borderColor:"borderColor",flex:"row",style:{borderWidth:"1px",borderTopWidth:0,borderStyle:"solid",flexWrap:"nowrap",justifyContent:"space-between",minHeight:"64px",alignItems:"center",...e.swapRequired?{borderBottom:"none"}:{borderBottomLeftRadius:$.md,borderBottomRightRadius:$.md}},children:[t.jsxs(D,{variant:"ghost",onClick:e.onSelectToken,gap:"sm",style:{paddingInline:B.sm,paddingBlock:B.sm,minWidth:"50%",justifyContent:"flex-start"},disabled:e.freezeChainAndTokenSelection,children:[t.jsx(kt,{token:e.token,chain:e.chain,size:"md",client:e.client}),t.jsxs(d,{flex:"column",gap:"3xs",children:[t.jsxs(d,{flex:"row",gap:"xs",center:"y",color:"primaryText",children:[t.jsx(se,{token:e.token,chain:e.chain,size:"sm"}),t.jsx(fe,{width:k.sm,height:k.sm})]}),n?t.jsx(h,{size:"xs",children:n}):t.jsx(ne,{width:"90px",height:V.xs})]})]}),t.jsxs("div",{style:{flexGrow:1,flexShrink:1,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:B.xxs,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",justifyContent:"center",paddingRight:B.sm},children:[e.isLoading?t.jsx(ne,{width:"120px",height:V.md,color:"borderColor"}):t.jsx(h,{size:"md",color:e.value?"primaryText":"secondaryText",style:{},children:q(Number(e.value),6)||""}),t.jsxs(d,{flex:"row",gap:"xxs",center:"y",color:"secondaryText",children:[t.jsx(hs,{size:V.xs}),s.data?t.jsx(h,{size:"xs",color:"secondaryText",weight:500,children:ln(s.data,!1)}):t.jsx(ne,{width:"70px",height:V.xs})]})]})]})}async function xs(e){try{const s=await ct(e.client)(dn(),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({fromAddress:e.fromAddress,toAddress:e.toAddress,chainId:e.chainId,tokenAddress:e.tokenAddress,amount:e.amount,purchaseData:e.purchaseData})});if(!s.ok){const u=await s.json();throw u&&"error"in u?u:new Error(`HTTP error! status: ${s.status}`)}const i=(await s.json()).result;return{transactionRequest:{chain:et(i.transactionRequest.chainId),client:e.client,data:i.transactionRequest.data,to:i.transactionRequest.to,value:BigInt(i.transactionRequest.value),gas:BigInt(i.transactionRequest.gasLimit)},approval:i.approval?un({contract:ye({client:e.client,address:i.approval.tokenAddress,chain:et(i.approval.chainId)}),spender:i.approval.spenderAddress,amountWei:BigInt(i.approval.amountWei)}):void 0,fromAddress:i.fromAddress,toAddress:i.toAddress,paymentToken:i.paymentToken,processingFee:i.processingFee,estimatedGasCostUSDCents:i.estimatedGasCostUSDCents,client:e.client}}catch(n){throw console.error("Error getting buy with crypto transfer",n),n}}function ys(e){const{title:n,onBack:s,receiverAddress:i,client:a,payer:u,onDone:c,chain:r,token:o,tokenAmount:l,transactionMode:x,setTransactionHash:T,payOptions:y}=e,[f,w]=j.useState("transfer"),[b,A]=j.useState({id:"idle"}),{symbol:v}=hn(r);return t.jsxs(d,{p:"lg",children:[t.jsx(X,{title:n,onBack:s}),t.jsx(m,{y:"xl"}),x&&t.jsxs(t.Fragment,{children:[t.jsx(yt,{steps:2,currentStep:f==="transfer"?1:2}),t.jsx(m,{y:"sm"}),t.jsx(h,{size:"sm",children:f==="transfer"?"Step 1 of 2 - Transfer funds":"Step 2 of 2 - Finalize transaction"}),t.jsx(m,{y:"xl"})]}),t.jsxs(d,{flex:"row",center:"y",style:{justifyContent:"space-between"},children:[t.jsx(h,{size:"sm",children:"From"}),t.jsx(Te,{address:u.account.address,client:a})]}),t.jsx(m,{y:"md"}),t.jsx(Z,{}),t.jsx(m,{y:"md"}),t.jsxs(d,{flex:"row",center:"y",style:{justifyContent:"space-between"},children:[t.jsx(h,{size:"sm",children:"To"}),t.jsx(Te,{address:i,client:a})]}),t.jsx(m,{y:"md"}),t.jsx(Z,{}),t.jsx(m,{y:"md"}),t.jsx(mn,{chainId:r.id,client:a,label:"Amount",tokenAmount:l,tokenSymbol:_(o)?v||"":o.symbol,tokenAddress:_(o)?N:o.address}),t.jsx(m,{y:"lg"}),x&&t.jsxs(t.Fragment,{children:[t.jsx(m,{y:"sm"}),t.jsxs(d,{gap:"sm",flex:"row",style:{justifyContent:"space-between"},center:"y",color:"accentText",children:[t.jsx(tt,{isDone:f==="execute",isActive:f==="transfer",label:f==="transfer"?"Transfer":"Done"}),t.jsx(xn,{}),t.jsx(tt,{isDone:!1,label:"Finalize",isActive:f==="execute"})]}),t.jsx(m,{y:"lg"})]}),b.id==="error"&&t.jsxs(t.Fragment,{children:[t.jsx(d,{flex:"row",gap:"xs",center:"both",color:"danger",children:t.jsx(h,{color:"danger",size:"sm",style:{textAlign:"center"},children:f==="transfer"?`${b.error||"Failed to Transfer"}`:"Failed to Execute"})}),t.jsx(m,{y:"md"})]}),!x&&f==="execute"&&b.id==="done"&&t.jsxs(t.Fragment,{children:[t.jsxs(d,{flex:"row",gap:"xs",center:"both",color:"success",children:[t.jsx(ft,{width:k.sm,height:k.sm}),t.jsx(h,{color:"success",size:"sm",children:"Payment completed"})]}),t.jsx(m,{y:"md"})]}),u.chain.id!==r.id?t.jsx(Ct,{fullWidth:!0,variant:"accent",switchChain:async()=>{await e.payer.wallet.switchChain(r)}}):t.jsxs(D,{variant:"accent",fullWidth:!0,disabled:b.id==="pending",onClick:async()=>{var g;if(f==="execute"){c();return}try{if(A({id:"pending"}),x){const C=_(o)?yn({client:a,chain:r,to:i,value:fn(l)}):jn({contract:ye({address:o.address,chain:r,client:a}),to:i,amount:l});await st({account:e.payer.account,transaction:C}),w("execute"),A({id:"idle"})}else{const C=await xs({client:a,fromAddress:u.account.address,toAddress:i,chainId:r.id,tokenAddress:_(o)?N:o.address,amount:l,purchaseData:y==null?void 0:y.purchaseData});C.approval&&(w("approve"),await st({account:e.payer.account,transaction:C.approval})),w("transfer");const I=C.transactionRequest,O=await rt({account:e.payer.account,transaction:I});T(O.transactionHash),A({id:"idle"})}}catch(C){console.error(C),A({id:"error",error:"error"in C?(g=C.error)==null?void 0:g.message:C==null?void 0:C.message})}},gap:"xs",children:[f==="execute"&&(b.id==="done"?"Done":"Continue"),f==="transfer"&&(b.id==="pending"?"Confirming":"Confirm"),f==="approve"&&(b.id==="pending"?"Approving":"Approve"),b.id==="pending"&&t.jsx(je,{size:"sm",color:"accentButtonText"})]})]})}function fs(e){const[n,s]=j.useState();return n?t.jsx(gn,{title:e.title,onBack:e.onBack,onTryAgain:e.onTryAgain,swapTxHash:n,client:e.client,onDone:e.onDone,transactionMode:!1,isEmbed:e.isEmbed,quote:void 0,onSuccess:e.onSuccess}):t.jsx(ys,{...e,setTransactionHash:s})}function js(e){var a;const n=K(),s=ht(),i=!e.showAllWallets&&((a=e.wallets)==null?void 0:a.every(u=>s.includes(u)));return t.jsxs(d,{children:[t.jsxs(d,{flex:"column",gap:"xs",children:[s.filter(u=>{var c;return!((c=e.hiddenWallets)!=null&&c.includes(u.id))}).map(u=>{var r;const c=(r=u.getAccount())==null?void 0:r.address;return t.jsx(Et,{walletId:u.id,client:e.client,address:c||"",onClick:()=>{e.onSelect(u),e.onBack()},disableChevron:!0,checked:!1},u.id)}),!i&&t.jsx(D,{variant:"secondary",fullWidth:!0,onClick:e.onConnect,gap:"xs",bg:"tertiaryBg",style:{borderRadius:$.lg,border:`1px solid ${n.colors.borderColor}`,padding:B.sm},children:t.jsxs(d,{flex:"row",gap:"sm",center:"y",expand:!0,children:[t.jsx(bn,{width:k.md,height:k.md}),t.jsx(h,{size:"sm",color:"primaryText",children:"Add Another Wallet"})]})})]}),t.jsx(m,{y:"sm"})]})}function gs(){const e=Ae(),n=St(),s=gt(),[i,a]=j.useState();return j.useEffect(()=>{const r=i==null?void 0:i.wallet;function o(){if(!r){a(void 0);return}const l=r.getAccount(),x=r.getChain();a(l&&x?{account:l,chain:x,wallet:r}:void 0)}if(r){const l=r.subscribe("chainChanged",o),x=r.subscribe("accountChanged",o);return()=>{l(),x()}}},[i]),{payer:i||(n&&s&&e?{account:n,chain:s,wallet:e}:void 0),setPayer:a}}function Bs(e){const n=e.payOptions.buyWithCrypto?e.payOptions.buyWithCrypto.testMode:void 0,s=wn(e.client,n);return s.data?t.jsx(bs,{...e,supportedDestinations:s.data}):t.jsx(pe,{})}function bs(e){var ie,ae,oe,re,ce,G,de,be,ue,Ie,Oe,ze,De,Re,Pe,Le,Me,_e,Ne,qe,Ue,He,$e,Qe,Ge,Ve,Ke,Ye;const{client:n,supportedDestinations:s,connectLocale:i,payOptions:a}=e,u=St(),{payer:c,setPayer:r}=gs(),[o,l]=j.useState({id:"main"}),{tokenAmount:x,setTokenAmount:T,toChain:y,setToChain:f,deferredTokenAmount:w,toToken:b,setToToken:A}=ss({payOptions:a,supportedDestinations:s}),[v,g]=j.useState(!1),C=j.useCallback(()=>{l({id:"main"}),e.onDone()},[e.onDone]),I=kn({client:e.client,destinationChainId:y.id,destinationTokenAddress:_(b)?N:b.address}),O=j.useMemo(()=>it(s,a,e.supportedTokens),[e.supportedTokens,s,a]),z=j.useMemo(()=>{if(!I.data)return;const p=I.data;return it(p,a,e.supportedTokens)},[e.supportedTokens,I.data,a]),{fromChain:E,setFromChain:M,fromToken:W,setFromToken:R}=is({payOptions:a,supportedSources:I.data||[]}),{selectedCurrency:U,setSelectedCurrency:H}=as({payOptions:a}),P=ns({payOptions:e.payOptions,supportedDestinations:e.supportedDestinations,toChain:y,toToken:b}),Q=P.showPaymentSelection===!1&&P.buyWithCryptoEnabled===!1&&P.buyWithFiatEnabled===!1,L=xt(),ee=j.useCallback(p=>{var F,S;(S=(F=e.payOptions).onPurchaseSuccess)==null||S.call(F,{type:"crypto",status:p}),ke(L)},[e.payOptions.onPurchaseSuccess,L]),ge=j.useCallback(p=>{var F,S;(S=(F=e.payOptions).onPurchaseSuccess)==null||S.call(F,{type:"fiat",status:p}),ke(L)},[e.payOptions.onPurchaseSuccess,L]);if(o.id==="connect-payer-wallet")return t.jsx(Cn,{accountAbstraction:(ie=e.connectOptions)==null?void 0:ie.accountAbstraction,appMetadata:(ae=e.connectOptions)==null?void 0:ae.appMetadata,chain:(oe=e.connectOptions)==null?void 0:oe.chain,chains:(re=e.connectOptions)==null?void 0:re.chains,client:e.client,connectLocale:e.connectLocale,isEmbed:e.isEmbed,onBack:()=>l(o.backScreen),onSelect:p=>{const F=p.getAccount(),S=p.getChain();p&&F&&S&&r({account:F,chain:S,wallet:p})},hiddenWallets:e.hiddenWallets,recommendedWallets:(ce=e.connectOptions)==null?void 0:ce.recommendedWallets,showAllWallets:((G=e.connectOptions)==null?void 0:G.showAllWallets)===void 0?!0:(de=e.connectOptions)==null?void 0:de.showAllWallets,walletConnect:(be=e.connectOptions)==null?void 0:be.walletConnect,wallets:(Ie=(ue=e.connectOptions)==null?void 0:ue.wallets)==null?void 0:Ie.filter(p=>p.id!=="inApp")});if(o.id==="swap-flow"&&c)return t.jsx(Sn,{title:e.title,transactionMode:a.mode==="transaction",isEmbed:e.isEmbed,client:n,onBack:()=>{l({id:"buy-with-crypto"})},buyWithCryptoQuote:o.quote,payer:c,isFiatFlow:!1,onDone:C,onTryAgain:()=>{l({id:"buy-with-crypto"})},onSuccess:ee});if(o.id==="fiat-flow"&&c)return t.jsx(ts,{title:e.title,transactionMode:a.mode==="transaction",quote:o.quote,onBack:()=>{l({id:"buy-with-fiat"})},client:n,testMode:e.payOptions.buyWithFiat!==!1&&((Oe=e.payOptions.buyWithFiat)==null?void 0:Oe.testMode)===!0,theme:typeof e.theme=="string"?e.theme:e.theme.type,openedWindow:o.openedWindow,onDone:C,isEmbed:e.isEmbed,payer:c,onSuccess:ge});if(o.id==="transfer-flow"&&c&&u){const p=()=>l({id:"buy-with-crypto"}),S=((De=(ze=e.payOptions)==null?void 0:ze.paymentInfo)==null?void 0:De.sellerAddress)||u.address;return t.jsx(fs,{title:e.title,onBack:p,payer:c,client:e.client,chain:y,token:b,tokenAmount:x,receiverAddress:S,transactionMode:e.payOptions.mode==="transaction",payOptions:a,isEmbed:e.isEmbed,onDone:C,onTryAgain:()=>{l({id:"buy-with-crypto"})},onSuccess:ee})}if(o.id==="select-currency"){const p=()=>l(o.backScreen);return t.jsx(Zn,{onSelect:F=>{p(),H(F)},onBack:p})}if(o.id==="select-to-token"){const p=s.map(Y=>Y.chain),F=()=>l(o.backScreen),S=(Re=a==null?void 0:a.prefillBuy)==null?void 0:Re.allowEdits;return(S==null?void 0:S.token)===!1?t.jsx(at,{chains:p,client:e.client,connectLocale:e.connectLocale,setChain:f,goBack:F}):t.jsx(nt,{onBack:F,tokenList:((y!=null&&y.id?O[y.id]:void 0)||[]).filter(Y=>Y.address!==N),onTokenSelect:Y=>{A(Y),F()},chain:y,chainSelection:(S==null?void 0:S.chain)!==!1?{chains:p,select:Y=>{f(Y)}}:void 0,connectLocale:i,client:n,modalTitle:e.title})}if(o.id==="select-from-token"&&I.data&&z){const p=I.data.map(S=>S.chain),F=()=>l(o.backScreen);return a.buyWithCrypto!==!1&&((Me=(Le=(Pe=a.buyWithCrypto)==null?void 0:Pe.prefillSource)==null?void 0:Le.allowEdits)==null?void 0:Me.token)===!1?t.jsx(at,{chains:p,client:e.client,connectLocale:e.connectLocale,setChain:M,goBack:F}):t.jsx(nt,{onBack:F,tokenList:((E!=null&&E.id?z[E.id]:void 0)||[]).filter(S=>S.address!==N),onTokenSelect:S=>{R(S),F()},chain:E,chainSelection:a.buyWithCrypto!==!1&&((qe=(Ne=(_e=a.buyWithCrypto)==null?void 0:_e.prefillSource)==null?void 0:Ne.allowEdits)==null?void 0:qe.chain)!==!1?{chains:I.data.map(S=>S.chain),select:S=>M(S)}:void 0,connectLocale:i,client:n,modalTitle:"Pay with"})}return t.jsx(d,{animate:"fadein",children:t.jsxs("div",{children:[o.id==="main"&&t.jsx(ks,{title:e.title,payerAccount:c==null?void 0:c.account,client:n,onSelectBuyToken:()=>l({id:"select-to-token",backScreen:o}),payOptions:a,setTokenAmount:T,setToChain:f,setToToken:A,setFromChain:M,setFromToken:R,toChain:y,toToken:b,tokenAmount:x,connectOptions:e.connectOptions,setScreen:l,supportedDestinations:s,onBack:e.onBack,theme:e.theme,hasEditedAmount:v,setHasEditedAmount:g,enabledPaymentMethods:P}),(o.id==="select-payment-method"||o.id==="select-wallet"||o.id==="buy-with-crypto"||o.id==="buy-with-fiat")&&c&&t.jsxs(Cs,{title:e.title,selectedChain:y,selectedToken:b,tokenAmount:x,client:n,onBack:()=>{P.showPaymentSelection&&(o.id==="select-wallet"||o.id==="buy-with-fiat")?l({id:"select-payment-method"}):o.id==="buy-with-crypto"?l({id:"select-wallet"}):l({id:"main"})},children:[o.id==="select-payment-method"&&t.jsx(Ss,{mode:a.mode,client:n,walletAddress:c.account.address,walletType:c.wallet.id,setScreen:p=>l({id:p})}),o.id==="select-wallet"&&t.jsx(js,{client:n,hiddenWallets:e.hiddenWallets,onSelect:p=>{const F=p.getChain(),S=p.getAccount();F&&S&&(r({account:S,chain:F,wallet:p}),l({id:"buy-with-crypto"}))},showAllWallets:!!((Ue=e.connectOptions)!=null&&Ue.showAllWallets),wallets:(He=e.connectOptions)==null?void 0:He.wallets,onBack:()=>{},onConnect:()=>{l({id:"connect-payer-wallet",backScreen:{id:"select-wallet"}})},selectedAddress:c.account.address}),o.id==="buy-with-crypto"&&u&&t.jsx(Ts,{setScreen:l,tokenAmount:w,toChain:y,toToken:b,fromChain:E,fromToken:W,showFromTokenSelector:()=>{l({id:"select-from-token",backScreen:o})},payer:c,client:n,isEmbed:e.isEmbed,onDone:C,payOptions:a,connectLocale:i,connectOptions:e.connectOptions,setPayer:r,activeAccount:u,setTokenAmount:T,setHasEditedAmount:g,disableTokenSelection:Q===!0||a.buyWithCrypto!==!1&&((Ge=(Qe=($e=a.buyWithCrypto)==null?void 0:$e.prefillSource)==null?void 0:Qe.allowEdits)==null?void 0:Ge.chain)===!1&&((Ye=(Ke=(Ve=a.buyWithCrypto)==null?void 0:Ve.prefillSource)==null?void 0:Ke.allowEdits)==null?void 0:Ye.token)===!1}),o.id==="buy-with-fiat"&&t.jsx(As,{setScreen:l,tokenAmount:w,toChain:y,toToken:b,selectedCurrency:U,client:n,isEmbed:e.isEmbed,onDone:C,payOptions:a,theme:e.theme,showCurrencySelector:()=>{l({id:"select-currency",backScreen:o})},payer:c,setTokenAmount:T,setHasEditedAmount:g})]})]})})}function ws(e){return t.jsx("div",{children:t.jsxs(d,{flex:"row",gap:"sm",center:"y",style:{justifyContent:"space-between"},children:[t.jsxs(d,{flex:"row",gap:"xs",center:"y",children:[t.jsx(h,{color:"primaryText","data-testid":"tokenAmount",size:"xl",children:q(Number(e.tokenAmount),6)}),t.jsxs(d,{flex:"row",gap:"xxs",center:"y",children:[t.jsx(se,{token:e.selectedToken,chain:e.selectedChain,size:"md",color:"secondaryText"}),t.jsx(kt,{chain:e.selectedChain,client:e.client,size:"sm",token:e.selectedToken})]})]}),t.jsx(Wn,{chain:e.selectedChain,client:e.client,size:"sm",short:!0})]})})}function ks(e){var g,C,I,O,z,E;const{setTokenAmount:n,setToChain:s,setToToken:i,setFromChain:a,setFromToken:u,payerAccount:c,client:r,tokenAmount:o,payOptions:l,toToken:x,toChain:T,supportedDestinations:y,enabledPaymentMethods:f}=e,{showPaymentSelection:w,buyWithCryptoEnabled:b,buyWithFiatEnabled:A}=f,v=!o;switch(l.mode){case"transaction":return t.jsx(Yn,{supportedDestinations:y,payUiOptions:l,payerAccount:c,connectOptions:e.connectOptions,client:r,onContinue:(M,W,R)=>{n(M),s(W),a(W),u(R),i(R),w?e.setScreen({id:"select-payment-method"}):b?e.setScreen({id:"select-wallet"}):A?e.setScreen({id:"buy-with-fiat"}):e.setScreen({id:"select-wallet"})}});case"direct_payment":return t.jsx($n,{client:r,payUiOptions:l,payerAccount:c,connectOptions:e.connectOptions,supportedDestinations:y,onContinue:(M,W,R)=>{n(M),s(W),a(W),u(R),i(R),w?e.setScreen({id:"select-payment-method"}):b?e.setScreen({id:"buy-with-crypto"}):A?e.setScreen({id:"buy-with-fiat"}):e.setScreen({id:"select-wallet"})}});default:return t.jsxs(d,{p:"lg",children:[t.jsx(X,{title:e.title,onBack:e.onBack}),t.jsx(m,{y:"xl"}),t.jsx(cs,{value:o,onChange:async M=>{e.setHasEditedAmount(!0),n(M)},freezeAmount:((C=(g=l.prefillBuy)==null?void 0:g.allowEdits)==null?void 0:C.amount)===!1,freezeChainAndToken:((O=(I=l.prefillBuy)==null?void 0:I.allowEdits)==null?void 0:O.chain)===!1&&((E=(z=l.prefillBuy)==null?void 0:z.allowEdits)==null?void 0:E.token)===!1,token:x,chain:T,onSelectToken:e.onSelectBuyToken,client:e.client}),t.jsx(m,{y:"xl"}),t.jsx(d,{flex:"column",gap:"sm",children:c?t.jsx(D,{variant:"accent",fullWidth:!0,disabled:v,"data-disabled":v,onClick:()=>{w?e.setScreen({id:"select-payment-method"}):b?e.setScreen({id:"buy-with-crypto"}):A?e.setScreen({id:"buy-with-fiat"}):console.error("No payment method enabled")},children:"Continue"}):t.jsx("div",{children:t.jsx(Be,{...e.connectOptions,client:e.client,theme:e.theme,connectButton:{style:{width:"100%"}}})})})]})}}function Cs(e){return t.jsxs(d,{children:[t.jsx(d,{p:"lg",children:t.jsx(X,{title:e.title,onBack:e.onBack})}),t.jsxs(d,{px:"lg",style:{paddingBottom:B.lg},children:[t.jsx(m,{y:"xs"}),t.jsx(ws,{selectedToken:e.selectedToken,selectedChain:e.selectedChain,tokenAmount:e.tokenAmount,client:e.client}),t.jsx(m,{y:"md"}),t.jsx(Z,{}),t.jsx(m,{y:"lg"}),t.jsx(h,{size:"sm",children:" Pay with "}),t.jsx(m,{y:"sm"}),e.children]})]})}function Ss(e){return t.jsx(d,{animate:"fadein",children:t.jsxs(d,{flex:"column",gap:"sm",children:[t.jsxs(D,{variant:"outline",bg:"tertiaryBg",onClick:()=>{le({event:`pay_with_credit_card_${e.mode||"unknown"}_mode`,client:e.client,walletAddress:e.walletAddress,walletType:e.walletType}),e.setScreen("buy-with-fiat")},gap:"sm",style:{justifyContent:"flex-start",textAlign:"left"},children:[t.jsx(d,{color:"secondaryText",flex:"row",center:"both",children:t.jsx(Tn,{style:{width:k.md,height:k.md}})}),t.jsxs(d,{flex:"column",gap:"xxs",children:[t.jsx(h,{size:"md",color:"primaryText",children:"Credit Card"}),t.jsx(h,{size:"xs",children:"Securely pay with credit card"})]})]}),t.jsxs(D,{variant:"outline",bg:"tertiaryBg",onClick:()=>{le({event:`pay_with_crypto_${e.mode||"unknown"}_mode`,client:e.client,walletAddress:e.walletAddress,walletType:e.walletType}),e.setScreen("select-wallet")},style:{justifyContent:"flex-start"},gap:"sm",children:[t.jsx(d,{color:"secondaryText",flex:"row",center:"both",children:t.jsx(An,{size:k.md})}),t.jsxs(d,{flex:"column",gap:"xxs",children:[t.jsx(h,{size:"md",color:"primaryText",children:"Crypto"}),t.jsx(h,{size:"xs",children:"Pay with your connected wallet"})]})]})]})})}function Ts(e){var ie,ae,oe,re,ce;const{setScreen:n,payer:s,client:i,toChain:a,tokenAmount:u,toToken:c,fromChain:r,fromToken:o,showFromTokenSelector:l,payOptions:x,disableTokenSelection:T}=e,f=((ae=(ie=e.payOptions)==null?void 0:ie.paymentInfo)==null?void 0:ae.sellerAddress)||e.activeAccount.address,{drawerRef:w,drawerOverlayRef:b,isOpen:A,setIsOpen:v}=vt(),[g,C]=j.useState("fees"),I=wt({address:s.account.address,chain:r,tokenAddress:_(o)?void 0:o.address,client:i}),O=_(o)?N:o.address.toLowerCase(),z=_(c)?N:c.address.toLowerCase(),E=!!u&&!(r.id===a.id&&O===z),M=E?{fromAddress:s.account.address,toAddress:f,fromChainId:r.id,fromTokenAddress:_(o)?N:o.address,toChainId:a.id,toTokenAddress:_(c)?N:c.address,toAmount:u,client:i,purchaseData:x.purchaseData}:void 0,W=_n(M,{staleTime:30*1e3,refetchInterval:30*1e3,gcTime:30*1e3}),R=E?(oe=W.data)==null?void 0:oe.swapDetails.fromAmount:u,U=!!R&&!!I.data&&Number(I.data.displayValue)<Number(R),H=E&&!W.data||U,P=e.payer.chain.id!==r.id;function Q(G){const de="Unable to get price quote";try{if(G.error.code==="MINIMUM_PURCHASE_AMOUNT"){const ue=G.error.data.minimumAmountEth;return{minAmount:q(Number(ue),6)}}}catch{}return{msg:[de]}}const L=!W.isLoading&&W.error?Q(W.error):void 0;function ee(){if((e.payOptions.mode==="direct_payment"||e.payOptions.mode==="fund_wallet")&&!U&&!E)n({id:"transfer-flow"});else if(e.payOptions.mode==="transaction"&&!U&&!E){s.account.address!==f?n({id:"transfer-flow"}):e.onDone();return}W.data&&n({id:"swap-flow",quote:W.data})}function ge(){W.data&&(v(!0),C("fees"))}return t.jsxs(d,{flex:"column",gap:"md",animate:"fadein",children:[A&&t.jsxs(t.Fragment,{children:[t.jsx(pt,{ref:b}),t.jsx(At,{ref:w,close:()=>v(!1),children:g==="fees"&&W.data&&t.jsxs("div",{children:[t.jsx(h,{size:"lg",color:"primaryText",children:"Fees"}),t.jsx(m,{y:"lg"}),t.jsx(ds,{quote:W.data})]})})]}),t.jsxs("div",{children:[t.jsx(Et,{client:e.client,onClick:()=>{n({id:"select-wallet"})},address:e.payer.account.address,walletId:e.payer.wallet.id,containerStyle:{borderBottomRightRadius:0,borderBottomLeftRadius:0}}),t.jsx(ms,{value:R||"",onSelectToken:l,chain:r,token:o,isLoading:W.isLoading&&!R,client:i,freezeChainAndTokenSelection:T,payerAccount:e.payer.account,swapRequired:E}),E&&t.jsx(Wt,{quoteIsLoading:W.isLoading,estimatedSeconds:(re=W.data)==null?void 0:re.swapDetails.estimated.durationSeconds,onViewFees:ge}),t.jsx(m,{y:"md"})]}),L&&t.jsxs("div",{children:[L.minAmount&&t.jsxs(h,{color:"danger",size:"sm",center:!0,multiline:!0,children:["Minimum amount is ",L.minAmount," ",t.jsx(se,{token:c,chain:a,size:"sm",inline:!0,color:"danger"})]}),(ce=L.msg)==null?void 0:ce.map(G=>t.jsx(h,{color:"danger",size:"sm",center:!0,multiline:!0,children:G},G))]}),!L&&U&&t.jsxs("div",{children:[t.jsx(h,{color:"danger",size:"sm",center:!0,multiline:!0,children:"Not enough funds."}),t.jsx(h,{color:"danger",size:"sm",center:!0,multiline:!0,children:"Try a different wallet or token."})]}),L!=null&&L.minAmount?t.jsx(D,{variant:"accent",fullWidth:!0,onClick:()=>{e.setTokenAmount(String(L.minAmount)),e.setHasEditedAmount(!0)},children:"Set Minimum"}):P&&!W.isLoading&&!U&&!W.error?t.jsx(Ct,{variant:"accent",fullWidth:!0,switchChain:async()=>{await e.payer.wallet.switchChain(r)}}):t.jsx(D,{variant:H?"outline":"accent",fullWidth:!0,"data-disabled":H,disabled:H,onClick:async()=>{H||ee()},gap:"xs",children:W.isLoading?t.jsxs(t.Fragment,{children:["Getting price quote",t.jsx(je,{size:"sm",color:"accentText"})]}):"Continue"})]})}function As(e){var M,W,R,U,H;const{toToken:n,tokenAmount:s,payer:i,client:a,setScreen:u,toChain:c,showCurrencySelector:r,selectedCurrency:o}=e,x=((W=(M=e.payOptions)==null?void 0:M.paymentInfo)==null?void 0:W.sellerAddress)||e.payer.account.address,{drawerRef:T,drawerOverlayRef:y,isOpen:f,setIsOpen:w}=vt(),[b,A]=j.useState("fees"),v=e.payOptions.buyWithFiat,g=qn(v!==!1&&s?{fromCurrencySymbol:o.shorthand,toChainId:c.id,toAddress:x,toTokenAddress:_(n)?N:n.address,toAmount:s,client:a,isTestMode:v==null?void 0:v.testMode,purchaseData:e.payOptions.purchaseData,fromAddress:i.account.address,preferredProvider:v==null?void 0:v.preferredProvider}:void 0);function C(){if(!g.data)return;const P=Tt(g.data);let Q=null;P||(Q=Bt(g.data.onRampLink,typeof e.theme=="string"?e.theme:e.theme.type),jt({type:"fiat",intentId:g.data.intentId})),u({id:"fiat-flow",quote:g.data,openedWindow:Q})}function I(){g.data&&(A("fees"),w(!0))}function O(P){const Q="Unable to get price quote";try{if(P.error.code==="MINIMUM_PURCHASE_AMOUNT"){const ee=P.error.data.minimumAmountEth;return{minAmount:q(Number(ee),6)}}}catch{}return{msg:[Q]}}const z=!g.data,E=!g.isLoading&&g.error?O(g.error):void 0;return t.jsxs(d,{flex:"column",gap:"md",animate:"fadein",children:[f&&t.jsxs(t.Fragment,{children:[t.jsx(pt,{ref:y}),t.jsx(At,{ref:T,close:()=>w(!1),children:b==="fees"&&g.data&&t.jsxs("div",{children:[t.jsx(h,{size:"lg",color:"primaryText",children:"Fees"}),t.jsx(m,{y:"lg"}),t.jsx(us,{quote:g.data})]})})]}),t.jsxs("div",{children:[t.jsx(Gn,{isLoading:g.isLoading,value:(R=g.data)==null?void 0:R.fromCurrencyWithFees.amount,client:a,currency:o,onSelectCurrency:r}),t.jsx(Wt,{quoteIsLoading:g.isLoading,estimatedSeconds:(U=g.data)==null?void 0:U.estimatedDurationSeconds,onViewFees:I}),t.jsx(m,{y:"md"})]}),E&&t.jsxs("div",{children:[E.minAmount&&t.jsxs(h,{color:"danger",size:"sm",center:!0,multiline:!0,children:["Minimum amount is ",E.minAmount," packages/thirdweb/src/react/web/ui/ConnectWallet/TransactionsScreen.tsx",t.jsx(se,{token:n,chain:c,size:"sm",inline:!0,color:"danger"})]}),(H=E.msg)==null?void 0:H.map(P=>t.jsx(h,{color:"danger",size:"sm",center:!0,multiline:!0,children:P},P))]}),E!=null&&E.minAmount?t.jsx(D,{variant:"accent",fullWidth:!0,onClick:()=>{e.setTokenAmount(String(E.minAmount)),e.setHasEditedAmount(!0)},children:"Set Minimum"}):t.jsx(D,{variant:z?"outline":"accent","data-disabled":z,disabled:z,fullWidth:!0,onClick:C,gap:"xs",children:g.isLoading?t.jsxs(t.Fragment,{children:["Getting price quote",t.jsx(je,{size:"sm",color:"accentText"})]}):"Continue"})]})}function it(e,n,s){const i={},a=n.buyWithFiat===!1,u=n.buyWithCrypto===!1;for(const c of e)i[c.chain.id]=c.tokens.filter(r=>r.buyWithCryptoEnabled&&r.buyWithFiatEnabled?!0:!(!r.buyWithCryptoEnabled&&a||!r.buyWithFiatEnabled&&u));if(s)for(const c in s){const r=Number(c),o=s[r];o&&(i[r]=o)}return i}function at(e){return t.jsx(pn,{client:e.client,connectLocale:e.connectLocale,showTabs:!1,onBack:e.goBack,chains:e.chains,closeModal:e.goBack,networkSelector:{renderChain(n){return t.jsx(vn,{chain:n.chain,confirming:!1,switchingFailed:!1,onClick:()=>{e.setChain(n.chain),e.goBack()},client:e.client,connectLocale:e.connectLocale})}}})}export{Bs as default};
