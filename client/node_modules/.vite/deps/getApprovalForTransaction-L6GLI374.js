import {
  allowance
} from "./chunk-7LSLP65U.js";
import {
  approve
} from "./chunk-HF3GN5FC.js";
import "./chunk-2SYFNEBS.js";
import {
  resolvePromisedValue
} from "./chunk-KJYLQJSK.js";
import "./chunk-45HPJ6KZ.js";
import {
  getContract
} from "./chunk-V4R6W4TB.js";
import "./chunk-WAYCTEWF.js";
import "./chunk-6OVLPGJT.js";
import "./chunk-DUG3HQTU.js";
import "./chunk-OAO5VGN2.js";
import "./chunk-WF7HT732.js";
import {
  getAddress
} from "./chunk-NG4CPCQP.js";
import "./chunk-IKDW2EAG.js";
import "./chunk-V624WXOD.js";
import "./chunk-PJWFC5K2.js";
import "./chunk-LSCI4HY4.js";
import "./chunk-JOR3C3P6.js";
import "./chunk-ETKBQLUS.js";
import "./chunk-7IZG4EP5.js";
import "./chunk-HBHEB2SD.js";
import "./chunk-GDDTQ4UI.js";
import "./chunk-CJ2CQ55J.js";
import "./chunk-2FWTASOS.js";
import "./chunk-3IMKMHHP.js";
import "./chunk-RBM7JEQD.js";
import "./chunk-SP4JNVVX.js";
import "./chunk-YLMORAFS.js";
import "./chunk-HRZHMJXM.js";
import "./chunk-3OXDSLPJ.js";
import "./chunk-PPP72TBL.js";
import "./chunk-MSFXBLHD.js";

// node_modules/thirdweb/dist/esm/extensions/erc20/write/getApprovalForTransaction.js
async function getApprovalForTransaction(options) {
  const { transaction, account } = options;
  if (!account) {
    return null;
  }
  const erc20Value = await resolvePromisedValue(transaction.erc20Value);
  if (erc20Value) {
    const target = await resolvePromisedValue(transaction.to);
    if (!target || !erc20Value.tokenAddress || getAddress(target) === getAddress(erc20Value.tokenAddress)) {
      return null;
    }
    const contract = getContract({
      address: erc20Value.tokenAddress,
      chain: transaction.chain,
      client: transaction.client
    });
    const approvedValue = await allowance({
      contract,
      owner: account.address,
      spender: target
    });
    if (approvedValue > erc20Value.amountWei) {
      return null;
    }
    return approve({
      contract,
      value: erc20Value.amountWei,
      spender: target
    });
  }
  return null;
}
export {
  getApprovalForTransaction
};
//# sourceMappingURL=getApprovalForTransaction-L6GLI374.js.map
